# The hash of the first block in a chain to know with which nodes to work
origin = "0000001D2A77D63477172678502E51DE7F346061FF7EB188A2445ECA3FC0780E"
# Paths to your key files to load automatically
key_files = ["key1.toml", "key2.toml", "key3.toml", "key4.toml", "key5.toml"]
# How many last blocks to check on start
check_blocks = 8

# Network settings
[net]
# All bootstrap nodes
peers = ["peer-v4.alfis.name:4244", "peer-v6.alfis.name:4244", "peer-ygg.alfis.name:4244"]
# Your node will listen on that address for other nodes to connect
listen = "[::]:4244"
# Set true if you want your IP to participate in peer-exchange, or false otherwise
public = true
# Allow connections to/from Yggdrasil only (https://yggdrasil-network.github.io)
yggdrasil_only = false
# Maximum number of new peer addresses in queue to prevent memory leak (default: 1000)
# Limits the size of the peer connection queue
max_new_peers = 1000

# DNS resolver options
[dns]
# Your DNS resolver will be listening on this address and port (Usual port is 53)
listen = "127.0.0.3:53"
# How many threads to spawn by DNS server
threads = 10
# AdGuard DNS servers to filter ads and trackers
forwarders = ["https://dns.adguard.com/dns-query"]
#forwarders = ["94.140.14.14:53", "94.140.15.15:53"]
# Cloudflare servers
#forwarders = ["https://cloudflare-dns.com/dns-query"]
#forwarders = ["1.1.1.1:53", "1.0.0.1:53"]

# Bootstrap DNS-servers to resolve domains of DoH providers
bootstraps = ["9.9.9.9:53", "94.140.14.14:53"]

# Enable DNS 0x20 encoding for cache poisoning protection
# Recommended: true (default)
# Set false only if upstream resolvers don't preserve case (very rare)
enable_0x20 = true

# Maximum memory for DNS cache in megabytes (default: 100 MB)
# Limits cache size to prevent memory leaks
# Higher values improve performance by caching more domains, reducing external queries
# Recommended: 100MB for normal load, 200MB for high load, 300-500MB for very high load
cache_max_memory_mb = 200

# Interval for periodic cache cleanup in seconds (default: 300 seconds = 5 minutes)
# Cache cleanup runs independently of DNS queries to prevent memory accumulation
cache_cleanup_interval_sec = 300

# Maximum queue size for TCP server per worker thread (default: 1000)
# Prevents TCP queue overflow warnings under high load
# Higher values reduce connection rejections under high load, improving performance
# Recommended: 1000 for normal load, 2000 for high load, 3000-5000 for very high load
tcp_queue_size = 2000

# Maximum queue size for UDP server (default: 5000)
# Prevents UDP queue overflow and memory leaks under high load
# Higher values reduce packet drops under high load, improving performance
# Recommended: 5000 for normal load, 10000 for high load, 15000-20000 for very high load
udp_queue_size = 10000

# Maximum number of CNAME resolution results to prevent memory growth under high load (default: 50)
# Limits the number of temporary DnsPacket objects created during CNAME chain resolution
# Higher values allow processing longer CNAME chains for better performance, but use more memory
# Recommended: 50 for normal load, 100-200 for high load, 200-500 for very complex domains
max_cname_results = 200

# Maximum memory for domain info cache in megabytes to prevent memory growth under high DNS load (default: 5 MB)
# This cache reduces SQLite query frequency by caching domain information for 5 seconds
# Higher values improve performance by reducing database queries, but use more memory
# Recommended: 10-20MB for medium load, 20-50MB for high load, 50-100MB for very high load
# Optimal: 50MB provides good balance between performance and memory usage
domain_info_cache_max_memory_mb = 50

# Hosts file support (resolve local names or block ads)
#hosts = ["system", "adblock.txt"]

#Mining options
[mining]
# How many CPU threads to spawn for mining, zero = number of CPU cores
threads = 0
# Set a lower priority for mining threads
lower = true